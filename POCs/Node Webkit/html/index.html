<!DOCTYPE html>
<html>
<head>
    <title>Down IDE</title>
    <link rel="stylesheet" type="text/css" href="../css/style.css" />
    <link rel="stylesheet" type="text/css" href="../js/plugins/jquery-ui/jquery-ui.css" />

    <script src="../js/jquery/jquery-1.11.3.min.js" type="text/javascript"></script>
    <script src="../js/plugins/ace/ace.js" type="text/javascript"></script>
    <script src="../js/plugins/ace/theme-twilight.js" type="text/javascript"></script>
    <script src="../js/plugins/ace/ext-language_tools.js" type="text/javascript"></script>
    <script src="../js/plugins/jquery-ui/jquery-ui.js" type="text/javascript"></script>

    <script type="text/javascript" src="../js/main.js"></script>

    <script type="text/javascript">
		global.window = window;
		global.$ = $;
		global.gui = require('nw.gui');
		init();

        // Jquery UI
        $(function() {
            var tabs = $("#log > div").tabs();
            tabs.find(".ui-tabs-nav").sortable({
                axis: "x",
                stop: function() {
                    tabs.tabs( "refresh" );
                }
            });

            $("#editor").resizable({
                handles: 'e',
                maxWidth: $(window).width() * 0.9,
                resize: function() {
                    var windowWidth = $(window).width();
                    var thisWidth = $(this).width();
                    var markDownWidth = windowWidth - thisWidth - 20;
                    $('#markdown').width(markDownWidth);
                    global.editor.resize();
                }
            });

            $(window).resize(function(event) {
                $("#editor").resizable({
                    maxWidth: $(this).width() * 0.9,
                });

                var editorWidth = $('#editor').width();
                var windowWidth = $(this).width();
                $('#markdown').width(windowWidth - editorWidth - 20);
                global.editor.resize();
            });
        });
	</script>
</head>
<body class="showLog">
    <!-- Dialogs  -->
    <input style="display:none;" id="openFileDialog" type="file" accept=".md" />
    <input style="display:none;" id="saveFileDialog" type="file" accept=".md" nwsaveas />

    <!-- Editor -->
    <div id="editor"><textarea id="code"></textarea></div>
    <div id="markdown"></div>

    <!-- Log -->
    <div id="log">
        <a href="#" class="close">[X]</a>
        <div>
            <ul>
                <li><a href="#output">Output</a></li>
                <li><a href="#errors">Errors</a></li>
            </ul>
            <div id="output">
               
            </div>
            <div id="errors">
                
            </div>
        </div>
    </div>
</body>
</html>